<h2><%= l(:codebook_admin_title) %></h2>

<h4><%= l(:codebook_admin_text) %></h4>
  <div id="dashboard">

    <div id="set_defaults">
      <%- if @languages.empty? or @areas.empty? -%>
        You can add some default values here.
        <%= button_to "Go", :controller => "codebook", :action => "add_default_enums" %>
      <%- end -%>
    </div>

    <div class="box" id="new_language" style="float:left; padding:20px 30px; width: 300px;">
      <span class="cb_label"><%= l(:codebook_admin_label_language) %></span>

      <% form_for :code_language, @language, :url => { :action => "create_category" } do |f| %>  
          <%= f.text_field :name, :size => 20 %>
          <%= submit_tag "Go!" %>
      <% end %> 

      <hr />

      <span class="cb_label"><%= l(:codebook_admin_label_available) %></span>

      <table style="width: 280px;">
      <thead>
        <tr><th>Language</th><th></th><th>Actions</th></tr>
      </thead>
      <tbody>
        <%- renderable = supported_languages() -%>
        <%= render :partial => 'code_language', :collection => @languages, :locals => { :supported => renderable } %>
      </tbody>
      </table>
      <br />
      <p><span class="cb_remark">*</span> syntax highlighting is provided by <%= link_to "CodeRay", "http://coderay.rubychan.de" %></p>
    </div>

    <div style="float: left; width: 20px;">&nbsp;</div>
    
    <div class="box" id="new_category" style="float: left; padding:20px 30px; width: 300px;">
      <% form_for :code_area, @area, :url => { :action => "create_category" } do |f| %>  
          <%= f.text_field :name, :size => 20  %>
          <%= submit_tag "Go!" %>
      <% end %> 

      <table style="width: 280px;">
      <thead>
        <tr><th>Area</th><th>Actions</th></tr>
      </thead>
      <tbody>
        <%= render :partial => 'code_area', :collection => @areas %>
      </tbody>
      </table>
    </div>    
  </div>

<% content_for :sidebar do %>
  <%= render :partial => 'codebook/menu' %>
<% end %>
